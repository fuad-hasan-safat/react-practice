{"ast":null,"code":"import{useSelector,useDispatch}from'react-redux';import Cart from'./components/Cart/Cart';import Layout from'./components/Layout/Layout';import Products from'./components/Shop/Products';import Notification from'./components/UI/Notification';import{useEffect}from'react';import{fetchCartData,sendCartData}from'./store/cart-actions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";let isInitial=true;function App(){const dispatch=useDispatch();const showCart=useSelector(state=>state.ui.cartIsVisible);const cart=useSelector(state=>state.cart);const notification=useSelector(state=>state.ui.notification);console.log({notification});useEffect(()=>{dispatch(fetchCartData());},[dispatch]);useEffect(()=>{if(isInitial){isInitial=false;return;}if(cart.changed){dispatch(sendCartData(cart));}},[cart,dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[showCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"names":["useSelector","useDispatch","Cart","Layout","Products","Notification","useEffect","fetchCartData","sendCartData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","isInitial","App","dispatch","showCart","state","ui","cartIsVisible","cart","notification","console","log","changed","children","status","title","message"],"sources":["C:/Safat/Udemy-React-Practice/react-practice/ReduxCart/src/App.js"],"sourcesContent":["import { useSelector, useDispatch } from 'react-redux';\nimport Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport Notification from './components/UI/Notification';\nimport { useEffect } from 'react';\nimport { fetchCartData, sendCartData } from './store/cart-actions';\n\nlet isInitial = true;\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  const showCart = useSelector(state => state.ui.cartIsVisible);\n  const cart = useSelector(state => state.cart);\n  const notification = useSelector(state => state.ui.notification);\n\n  console.log({ notification })\n\n  useEffect(() => {\n    dispatch(fetchCartData());\n  }, [dispatch])\n\n  useEffect(() => {\n\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n\n    if(cart.changed){\n      dispatch(sendCartData(cart));\n    }\n\n    \n  }, [cart, dispatch]);\n\n  return (\n    <>\n      {notification && <Notification status={notification.status} title={notification.title} message={notification.message} />}\n      <Layout>\n        {showCart && <Cart />}\n        <Products />\n      </Layout>\n    </>\n\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CACzC,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,aAAa,CAAEC,YAAY,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnE,GAAI,CAAAC,SAAS,CAAG,IAAI,CAEpB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CAEb,KAAM,CAAAC,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAiB,QAAQ,CAAGlB,WAAW,CAACmB,KAAK,EAAIA,KAAK,CAACC,EAAE,CAACC,aAAa,CAAC,CAC7D,KAAM,CAAAC,IAAI,CAAGtB,WAAW,CAACmB,KAAK,EAAIA,KAAK,CAACG,IAAI,CAAC,CAC7C,KAAM,CAAAC,YAAY,CAAGvB,WAAW,CAACmB,KAAK,EAAIA,KAAK,CAACC,EAAE,CAACG,YAAY,CAAC,CAEhEC,OAAO,CAACC,GAAG,CAAC,CAAEF,YAAa,CAAC,CAAC,CAE7BjB,SAAS,CAAC,IAAM,CACdW,QAAQ,CAACV,aAAa,CAAC,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACU,QAAQ,CAAC,CAAC,CAEdX,SAAS,CAAC,IAAM,CAEd,GAAIS,SAAS,CAAE,CACbA,SAAS,CAAG,KAAK,CACjB,OACF,CAEA,GAAGO,IAAI,CAACI,OAAO,CAAC,CACdT,QAAQ,CAACT,YAAY,CAACc,IAAI,CAAC,CAAC,CAC9B,CAGF,CAAC,CAAE,CAACA,IAAI,CAAEL,QAAQ,CAAC,CAAC,CAEpB,mBACEL,KAAA,CAAAE,SAAA,EAAAa,QAAA,EACGJ,YAAY,eAAIb,IAAA,CAACL,YAAY,EAACuB,MAAM,CAAEL,YAAY,CAACK,MAAO,CAACC,KAAK,CAAEN,YAAY,CAACM,KAAM,CAACC,OAAO,CAAEP,YAAY,CAACO,OAAQ,CAAE,CAAC,cACxHlB,KAAA,CAACT,MAAM,EAAAwB,QAAA,EACJT,QAAQ,eAAIR,IAAA,CAACR,IAAI,GAAE,CAAC,cACrBQ,IAAA,CAACN,QAAQ,GAAE,CAAC,EACN,CAAC,EACT,CAAC,CAGP,CAEA,cAAe,CAAAY,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}